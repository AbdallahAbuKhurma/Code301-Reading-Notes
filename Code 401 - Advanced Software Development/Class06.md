# Authentication
>
## Review, Research, and Discussion

Singleton in computer science terms refers to a single instance of something. How singleton pattern can be used with node modules, specifically with classes a singleton pattern can (and should?) be used with node modules so that you only have one area or location in your software that is making the node. This is achieved using class syntax. If tasked with building a middleware system like express uses, what approach might you take to construct/operate it? Express is an app level middleware system that needs to be used throughout the entire app in order for the app to run as an express app.

TERMS Router Middleware: middleware that is applied at the route level meaning that it can be applied to particular routes and take place in the WRRC. Singleton Pattern: instantiating a single type of object in a single place. CRUD -> REST method matches: CREATE:POST, READ:GET, UPDATE:PUT, DELETE:DELETE Mock Testing: creating a testing environment where a mock request can be made to avoid complications from testing on a live site.

## Term

    * Router Middleware => Router level middleware can be defined in the same way as application-level middleware

    * Dynamic Module Loading => The dynamic module loader library allows code to retrieve Node modules from a web server, install them locally and serve them up as though they’d been manually deployed to the running server.
 
    * Singleton Pattern => The Singleton Pattern limits the number of instances of a particular object to just one. This single instance is called the singleton.

    * Mock Testing => Mock testing is an approach to unit testing that lets you make assertions about how the code under test is interacting with other system modules. In mock testing, the dependencies are replaced with objects that simulate the behaviour of the real ones. … Such a service can be replaced with a mock object.

## Preview

***Securing Passwords*** : Password shouldn't be saved as a plain textin DB and there should be a new layer to protect it , should be encrypted by such as CRYPTOGRAPHIC hashing algorithm it as if the database ended up in the wrong hands they will not know what the real password is they will see cipher text "eenrypted" but hashing could be danger by brute force attack one of better waus is to use an bcrypt algorithm that force the user to enter string password by follow Key stretching technique.

***Session managment*** : is a process by which a server maintains the state of an entity interacting with it. so not in each request the user has to re authinticate

* Example of how to increase the security

***Multi-Factor Authentication***: such as fingerprint , Password , pin code to phone number/email.

***Account Lockout***: After multi times of failure login the account will be locked so you will not have more ability to try, it should be added to account not specific ip address as the attacker can workaround it by using different ip addresses somehow.

***Oauth*** Open Authorization (OAuth) is a protocol that allows an application to authenticate against a server as a user, without requiring passwords or any third party server that acts as an identity provider. It uses a token generated by the server and provides how the authorization flows most occur, so that a client, such as a mobile application, can tell the server what user is using the service.

## node.bcrypt.js

It is a library to help you hash passwords.

Per bcrypt implementation, only the first 72 bytes of a string are used. Any extra bytes are ignored when matching passwords. Note that this is not the first 72 characters. It is possible for a string to contain less than 72 characters, while taking up more than 72 bytes (e.g. a UTF-8 encoded string containing emojis).

This library supports $2a$ and $2b$ prefix bcrypt hashes. $2x$ and $2y$ hashes are specific to bcrypt implementation developed for John the Ripper. In theory, they should be compatible with $2b$ prefix.

Middleware functions are functions in the request-response cycle of the program which have access to the request-objective (req), the response-object (res), and the following middleware function. A variable named next usually indicates the next middleware function.

The following can be done by middleware functions: Run any code. Run any code. Modify the application and reply objects. Finish the cycle of query answers. Call the next stack middleware function

The following sorts of middleware may be used for an express application: Middleware application level Middleware router level Middleware Error-Treatment Middleware built-in Middleware of the third party

Dynamic Module Loading: Loading dynamics: is the module import and export process dynamically rather than provide a static string; if the export and export for the module statements. Run and execute functions and variables of the module. Unload the memory module as well.

Singleton Pattern: When the class is reduced to one instance, and the constructor is remembered, the same instance returns.

## Resources

[Securing Passwords](https://thehackernews.com/2014/04/securing-passwords-with-bcrypt-hashing.html)

[Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication)

[OWASP auth cheatsheet](https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html)

[bcrypt docs](https://www.npmjs.com/package/bcrypt)
